[profile.default]
src = "src"
out = "out"
libs = ["lib"]
optimizer = true
optimizer_runs = 200
solc = "0.8.26"
verbosity = 2
ffi = true

# --- 关键配置：只允许编译器扫描 src 目录，忽略 lib 中的测试文件 ---
# 这能解决 "forge build" 卡住的问题
allow_paths = ["lib", "src"]
ignore_error_codes = [6275] 

remappings = [
    # 标准库
    "forge-std/=lib/forge-std/src/",
    "@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/",
    
    # 工具库 (注意路径结尾)
    "solmate/=lib/solmate/src/",
    "solady/=lib/solady/src/",
    "permit2/=lib/permit2/src/",
    
    # Uniswap V4
    "v4-periphery/=lib/v4-periphery/src/",
    "@uniswap/v4-core/=lib/v4-core/",
    
    # 本地映射
    "continuous-clearing-auction/=src/"
]

[fmt]
line_length = 120
tab_width = 4