# RWA Launchpad (MVP)

> **è¿æ¥ Web2 è‚¡æƒä¸ Web3 æµåŠ¨æ€§çš„åˆè§„èµ„äº§å‘è¡Œå¹³å°**

æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„ RWA (Real World Asset) å‘è¡Œå¹³å°ï¼Œå…è®¸ä¼ä¸šï¼ˆå¦‚ SpaceXã€OpenAI ç­‰ç‹¬è§’å…½ï¼‰å°†è‚¡æƒä»£å¸åŒ–å¹¶é€šè¿‡é“¾ä¸Šæ‹å–è¿›è¡Œåˆ†å‘ã€‚

é¡¹ç›®é‡‡ç”¨ **CEX é£æ ¼çš„æ··åˆæ¶æ„**ï¼šé“¾ä¸Šèµ„é‡‘æ‰˜ç®¡ + é“¾ä¸‹é«˜é€Ÿæ’®åˆ + æ‰¹é‡é“¾ä¸Šç»“ç®—ï¼Œç»“åˆ **KYC æƒé™é’©å­**ï¼Œå®ç°äº†å…¼å…·æ•ˆç‡ã€å®‰å…¨å’Œåˆè§„æ€§çš„èµ„äº§äº¤æ˜“æ–¹æ¡ˆã€‚

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | æè¿° |
|------|------|
| ğŸ¦ **é“¾ä¸Šèµ„é‡‘æ‰˜ç®¡** | Deposit/Withdraw é€šè¿‡æ™ºèƒ½åˆçº¦æ‰§è¡Œï¼Œèµ„é‡‘å®‰å…¨æœ‰ä¿éšœ |
| âš¡ **é“¾ä¸‹é«˜é€Ÿæ’®åˆ** | è®¢å•æ’®åˆåœ¨åç«¯å†…å­˜ä¸­å®Œæˆï¼Œæ¯«ç§’çº§å“åº” |
| ğŸ“¦ **æ‰¹é‡é“¾ä¸Šç»“ç®—** | æˆäº¤è®°å½•æ‰¹é‡æ‰“åŒ…ä¸Šé“¾ï¼Œé™ä½ Gas æˆæœ¬ |
| ğŸ”— **é’±åŒ…é›†æˆ** | RainbowKit + MetaMaskï¼Œä¸€é”®è¿æ¥ |
| ğŸ“Š **å®æ—¶æ•°æ®** | WebSocket æ¨é€è®¢å•ç°¿ã€æˆäº¤ã€ä»·æ ¼å˜åŠ¨ |
| ğŸ¨ **ä¸“ä¸šäº¤æ˜“ç•Œé¢** | ç±» CEX çš„ç°ä»£åŒ–äº¤æ˜“ UI |

---

## ğŸš€ é¡¹ç›®çŠ¶æ€

å½“å‰å¤„äº **Phase 3 (å‰ç«¯é›†æˆ)** å®Œæˆé˜¶æ®µã€‚

- [x] **æ™ºèƒ½åˆçº¦**: OrderBookSettlement ç»“ç®—åˆçº¦ã€GO/RWA ä»£å¸
- [x] **åç«¯æœåŠ¡**: è®¢å•ç°¿ã€æ’®åˆå¼•æ“ã€é“¾ä¸Šç»“ç®—æœåŠ¡
- [x] **å‰ç«¯ç•Œé¢**: Next.js 14 + TypeScript + Tailwind CSS
- [x] **é’±åŒ…é›†æˆ**: RainbowKit + Wagmi + Anvil æœ¬åœ°é“¾æ”¯æŒ
- [x] **èµ„é‡‘ç®¡ç†**: é“¾ä¸Š Deposit/Withdrawï¼ˆéœ€ MetaMask ç¡®è®¤ï¼‰
- [x] **äº¤æ˜“åŠŸèƒ½**: é“¾ä¸‹ä¹°å–ã€ä½™é¢éªŒè¯ã€å®æ—¶æ›´æ–°

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CEX é£æ ¼æ··åˆæ¶æ„                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                  â”‚
â”‚   â”‚  ç”¨æˆ·é’±åŒ…     â”‚                                                  â”‚
â”‚   â”‚  (MetaMask)  â”‚                                                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                  â”‚
â”‚          â”‚                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚   å‰ç«¯       â”‚â”€â”€â”€â”€â–¶â”‚   åç«¯       â”‚â”€â”€â”€â”€â–¶â”‚  åŒºå—é“¾      â”‚       â”‚
â”‚   â”‚  (Next.js)   â”‚â—€â”€â”€â”€â”€â”‚  (Node.js)   â”‚â—€â”€â”€â”€â”€â”‚  (Anvil)     â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                     â”‚
â”‚   é“¾ä¸Šæ“ä½œ (éœ€ MetaMask):          é“¾ä¸‹æ“ä½œ (å³æ—¶):                  â”‚
â”‚   â”œâ”€â”€ Deposit GO/RWA              â”œâ”€â”€ ä¸‹å• (Buy/Sell)               â”‚
â”‚   â”œâ”€â”€ Withdraw GO/RWA             â”œâ”€â”€ æ’¤å•                          â”‚
â”‚   â””â”€â”€ æŸ¥çœ‹é“¾ä¸Šä½™é¢                 â””â”€â”€ æ’®åˆæˆäº¤                      â”‚
â”‚                                                                     â”‚
â”‚   æ‰¹é‡ç»“ç®—:                                                         â”‚
â”‚   â””â”€â”€ åç«¯å®šæœŸå°†æˆäº¤è®°å½•æ‰“åŒ…ä¸Šé“¾ (settleTrades)                      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### äº¤æ˜“æµç¨‹

```
1ï¸âƒ£ ç”¨æˆ· Deposit â†’ MetaMask ç¡®è®¤ â†’ ä»£å¸è½¬å…¥åˆçº¦ â†’ Trading Balance å¢åŠ 

2ï¸âƒ£ ç”¨æˆ·ä¸‹å• â†’ åç«¯è®¢å•ç°¿ â†’ æ’®åˆå¼•æ“åŒ¹é… â†’ æˆäº¤

3ï¸âƒ£ æˆäº¤è®°å½• â†’ æ‰¹é‡é˜Ÿåˆ— â†’ è¾¾åˆ°é˜ˆå€¼æˆ–å®šæ—¶è§¦å‘ â†’ settleTrades() ä¸Šé“¾

4ï¸âƒ£ ç”¨æˆ· Withdraw â†’ MetaMask ç¡®è®¤ â†’ ä»£å¸è½¬å›é’±åŒ…
```

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
rwa-launchpad/
â”œâ”€â”€ contracts/                      # æ™ºèƒ½åˆçº¦ (Foundry)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ OrderBookSettlement.sol # CEXé£æ ¼è®¢å•ç°¿ç»“ç®—åˆçº¦
â”‚   â”‚   â”œâ”€â”€ DutchAuction.sol        # è·å¼æ‹å–é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ DutchAuctionFactory.sol # æ‹å–å·¥å‚
â”‚   â”‚   â”œâ”€â”€ KYCValidationHook.sol   # ç™½åå•æƒé™æ§åˆ¶
â”‚   â”‚   â””â”€â”€ mock/
â”‚   â”‚       â””â”€â”€ MockTokens.sol      # GO Token + RWA Token
â”‚   â”œâ”€â”€ script/
â”‚   â”‚   â”œâ”€â”€ DeployAll.s.sol         # ä¸€é”®éƒ¨ç½²æ‰€æœ‰åˆçº¦
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ foundry.toml
â”‚
â”œâ”€â”€ backend/                        # é“¾ä¸‹è®¢å•ç°¿æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.js                # Express + Socket.io æœåŠ¡å™¨
â”‚   â”‚   â”œâ”€â”€ orderbook.js            # è®¢å•ç°¿æ•°æ®ç»“æ„
â”‚   â”‚   â”œâ”€â”€ matching.js             # ä»·æ ¼ä¼˜å…ˆæ—¶é—´ä¼˜å…ˆæ’®åˆå¼•æ“
â”‚   â”‚   â””â”€â”€ settlement.js           # é“¾ä¸Šç»“ç®—æœåŠ¡ (æ‰¹é‡ä¸Šé“¾)
â”‚   â”œâ”€â”€ .env                        # ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/                       # Next.js å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx            # ä¸»äº¤æ˜“é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ providers.tsx       # Wagmi + RainbowKit + Anvil
â”‚   â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx          # å¯¼èˆªæ  + é’±åŒ…è¿æ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ WalletPanel.tsx     # ğŸ’° èµ„é‡‘ç®¡ç† (Deposit/Withdraw)
â”‚   â”‚   â”‚   â”œâ”€â”€ TradingChart.tsx    # ğŸ“ˆ ä»·æ ¼æ›²çº¿å›¾
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderBook.tsx       # ğŸ“Š è®¢å•ç°¿æ·±åº¦
â”‚   â”‚   â”‚   â”œâ”€â”€ TradeForm.tsx       # ğŸ“ ä¸‹å•è¡¨å•
â”‚   â”‚   â”‚   â”œâ”€â”€ RecentTrades.tsx    # ğŸ“œ æœ€è¿‘æˆäº¤
â”‚   â”‚   â”‚   â””â”€â”€ MarketInfo.tsx      # â„¹ï¸ å¸‚åœºä¿¡æ¯
â”‚   â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”‚   â”œâ”€â”€ marketStore.ts      # å¸‚åœºæ•°æ®çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ balanceStore.ts     # ä½™é¢çŠ¶æ€ (å…±äº«)
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â””â”€â”€ useSettlement.ts    # åˆçº¦äº¤äº’ Hooks
â”‚   â”‚   â””â”€â”€ lib/
â”‚   â”‚       â””â”€â”€ contracts.ts        # åˆçº¦åœ°å€ + ABI
â”‚   â”œâ”€â”€ .env.local                  # ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md
```

---

## ğŸ§ª å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- [Node.js](https://nodejs.org/) >= 18
- [Foundry](https://getfoundry.sh/) (forge, anvil, cast)
- [Git](https://git-scm.com/)
- [MetaMask](https://metamask.io/) æµè§ˆå™¨æ’ä»¶

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/CZA1006/rwa-launchpad.git
cd rwa-launchpad
```

### 2. å¯åŠ¨æœ¬åœ°åŒºå—é“¾

```bash
# ç»ˆç«¯ 1: å¯åŠ¨ Anvil
anvil
```

### 3. éƒ¨ç½²æ™ºèƒ½åˆçº¦

```bash
# ç»ˆç«¯ 2: éƒ¨ç½²åˆçº¦
cd contracts

# è®¾ç½®ç§é’¥ (Anvil é»˜è®¤æµ‹è¯•è´¦æˆ·)
export PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

# ä¸€é”®éƒ¨ç½²
forge script script/DeployAll.s.sol --fork-url http://127.0.0.1:8545 --broadcast
```

è®°ä¸‹è¾“å‡ºçš„åˆçº¦åœ°å€:
```
GO Token deployed to: 0x5FbDB2315678afecb367f032d93F642f64180aa3
RWA Token deployed to: 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
OrderBookSettlement deployed to: 0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0
Market created, ID: 0x1903c7a6...
```

### 4. é…ç½®åç«¯

```bash
cd ../backend
npm install

# åˆ›å»º .env æ–‡ä»¶
cat > .env << EOF
PORT=3003
FRONTEND_URL=http://localhost:3000
RPC_URL=http://127.0.0.1:8545
RELAYER_PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
SETTLEMENT_CONTRACT=0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0
EOF

# å¯åŠ¨åç«¯
npm run dev
```

### 5. é…ç½®å‰ç«¯

```bash
cd ../frontend
npm install

# åˆ›å»º .env.local æ–‡ä»¶ (ä½¿ç”¨éƒ¨ç½²è¾“å‡ºçš„åœ°å€)
cat > .env.local << EOF
NEXT_PUBLIC_SETTLEMENT_CONTRACT=0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0
NEXT_PUBLIC_GO_TOKEN=0x5FbDB2315678afecb367f032d93F642f64180aa3
NEXT_PUBLIC_RWA_TOKEN=0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
NEXT_PUBLIC_MARKET_ID=0x1903c7a614583ef174d872a02908c88d72ee57aad51c7eba95a1ba09bb5c33b6
EOF

# å¯åŠ¨å‰ç«¯
npm run dev
```

### 6. é…ç½® MetaMask

1. æ·»åŠ  Anvil ç½‘ç»œ:
   - ç½‘ç»œåç§°: `Anvil Local`
   - RPC URL: `http://127.0.0.1:8545`
   - Chain ID: `31337`
   - è´§å¸ç¬¦å·: `ETH`

2. å¯¼å…¥æµ‹è¯•è´¦æˆ·:
   - ç§é’¥: `0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80`
   - è¯¥è´¦æˆ·æœ‰ 10000 ETH å’Œåˆå§‹é“¸é€ çš„ GO/RWA ä»£å¸

### 7. å¼€å§‹äº¤æ˜“

1. è®¿é—® http://localhost:3000
2. ç‚¹å‡» "Connect Wallet" è¿æ¥ MetaMask
3. åœ¨ Wallet é¢æ¿ä¸­ Deposit GO æˆ– RWA ä»£å¸
4. åœ¨ Trade é¢æ¿ä¸­ä¸‹å•ä¹°å–

---

## ğŸ“¡ API æ–‡æ¡£

### REST API

| Endpoint | Method | æè¿° |
|----------|--------|------|
| `/api/markets` | GET | è·å–æ‰€æœ‰å¸‚åœº |
| `/api/orderbook/:marketId` | GET | è·å–è®¢å•ç°¿ |
| `/api/prices/:marketId` | GET | è·å–ä»·æ ¼å†å² |
| `/api/trades/:marketId` | GET | è·å–æœ€è¿‘æˆäº¤ |
| `/api/orders` | POST | ä¸‹å• |
| `/api/orders/:orderId` | DELETE | æ’¤å• |
| `/api/orders/user/:address` | GET | è·å–ç”¨æˆ·è®¢å• |
| `/api/settlement/status` | GET | ç»“ç®—æœåŠ¡çŠ¶æ€ |
| `/api/settlement/trades` | GET | å·²ç»“ç®—äº¤æ˜“åˆ—è¡¨ |
| `/api/settlement/flush` | POST | æ‰‹åŠ¨è§¦å‘æ‰¹é‡ç»“ç®— |

### WebSocket Events

| Event | æ–¹å‘ | æè¿° |
|-------|------|------|
| `subscribe` | Clientâ†’Server | è®¢é˜…å¸‚åœºæ•°æ® |
| `orderbook` | Serverâ†’Client | è®¢å•ç°¿æ›´æ–° |
| `trade` | Serverâ†’Client | æ–°æˆäº¤ |
| `market` | Serverâ†’Client | å¸‚åœºæ•°æ®æ›´æ–° |

---

## ğŸ”§ é“¾ä¸ŠæŸ¥è¯¢

```bash
# æŸ¥çœ‹æˆäº¤æ€»æ•°
cast call 0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0 "getTradesCount()(uint256)" --rpc-url http://127.0.0.1:8545

# æŸ¥çœ‹ç”¨æˆ·ä½™é¢ (available, locked)
cast call 0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0 \
  "getBalance(address,address)(uint256,uint256)" \
  <USER_ADDRESS> <TOKEN_ADDRESS> \
  --rpc-url http://127.0.0.1:8545

# æŸ¥çœ‹äº¤æ˜“äº‹ä»¶
cast logs --from-block 0 \
  --address 0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0 \
  "TradeExecuted(bytes32,bytes32,bytes32,uint256,uint256)" \
  --rpc-url http://127.0.0.1:8545
```

---

## ğŸ—ºï¸ å¼€å‘è·¯çº¿å›¾

| é˜¶æ®µ | çŠ¶æ€ | æ ¸å¿ƒç›®æ ‡ |
|------|------|----------|
| **Phase 1** | âœ… å®Œæˆ | åŸºç¡€è®¾æ–½æ­å»ºã€ä¾èµ–ç®¡ç†ã€Mock èµ„äº§ä¸Šé“¾ |
| **Phase 2** | âœ… å®Œæˆ | æ™ºèƒ½åˆçº¦é—­ç¯ã€è·å¼æ‹å–æ ¸å¿ƒé€»è¾‘ã€E2E æµ‹è¯• |
| **Phase 3** | âœ… å®Œæˆ | å‰ç«¯é›†æˆã€CEXè®¢å•ç°¿ã€é’±åŒ…è¿æ¥ã€èµ„é‡‘ç®¡ç† |
| **Phase 4** | ğŸ”„ è¿›è¡Œä¸­ | å…¬æµ‹å‘å¸ƒã€UI/UX ä¼˜åŒ–ã€å®‰å…¨å®¡è®¡ |

---

## ğŸ¤ è´¡çŒ®è€…

- [@CZA1006](https://github.com/CZA1006) - Nick Z. Cai
- [@ssssydney](https://github.com/ssssydney)
- [@Jack-Li-Npu](https://github.com/Jack-Li-Npu) - Jack Li

---

## ğŸ“„ License

MIT
